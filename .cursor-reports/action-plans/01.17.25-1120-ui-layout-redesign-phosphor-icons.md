# UI Layout Redesign - Phosphor Icons Integration

## Overall Goal
Redesign the drawing app UI to match the provided sketch with:
- Restructured header with hero alien button
- Updated phosphor icons throughout
- Expanded bottom toolbar with 4 circular buttons
- Consistent styling and color scheme

## Action Plan

### Phase 1: Icon Dependencies & Setup
**Files to modify:** `package.json`

1. **Verify phosphor-react-native dependency**
   - Check if `phosphor-react-native` is installed
   - If not, add it to dependencies
   - Ensure version compatibility with React Native

### Phase 2: Header Layout Restructure
**Files to modify:** `App.tsx`

2. **Create new header layout structure**
   - Remove current `zoomControls` from header
   - Restructure header to support 2-row layout with hero button
   - Add new style sections: `heroButtonContainer`, `headerTopRow`, `headerBottomRow`

3. **Implement hero alien button**
   - Replace emoji+text "ðŸ¤– AI Draw" with `Alien` icon from phosphor
   - Style as dominant center button spanning 2 rows
   - Background color: `#28a745`
   - Keep existing `proceedWithAPICallHandler` functionality

4. **Reposition existing header elements**
   - Move Draw/Clear buttons to top row corners
   - Move undo/redo buttons to bottom-left (below Draw)
   - Move zoom +/- buttons to bottom-right (below Clear)
   - Update all header button styles to match Draw button style

### Phase 3: Update Icons in Header
**Files to modify:** `App.tsx`

5. **Replace zoom icons**
   - Import `MagnifyingGlassPlus` and `MagnifyingGlassMinus` from phosphor
   - Replace text "+" and "-" with respective icons
   - Maintain existing `handleZoom` functionality

6. **Replace undo/redo icons**
   - Import `ArrowUDownLeft` and `ArrowUDownRight` from phosphor
   - Replace text "â†©" and "â†ª" with respective icons
   - Maintain existing `handleUndo` and `handleRedo` functionality

7. **Update header button styling**
   - Active buttons: `#8294ed` background
   - Inactive buttons: current light grey (`#e0e0e0`)
   - Exception: Alien button keeps `#28a745`
   - All buttons match Draw button dimensions and border radius

### Phase 4: Bottom Toolbar Expansion
**Files to modify:** `components/BottomToolbar.tsx`

8. **Restructure BottomToolbar component**
   - Change from single color picker to 4-button layout
   - Maintain existing color picker functionality
   - Add prop interfaces for new buttons (future implementation)

9. **Add new icon imports**
   - Import `Eraser`, `PencilCircle`, `DownloadSimple` from phosphor
   - Keep existing `Palette` import

10. **Implement 4-button layout**
    - Button 1: Eraser (placeholder, no functionality)
    - Button 2: Color Picker (existing functionality)
    - Button 3: PencilCircle (placeholder, no functionality)
    - Button 4: Download-Simple (placeholder, no functionality)

11. **Style consistency**
    - All buttons circular with same dimensions as current color picker
    - Same border styling (`borderWidth: 2, borderColor: '#e0e0e0'`)
    - Icons size 28px to match current Palette icon
    - Proper spacing between buttons

### Phase 5: Styling Updates
**Files to modify:** `App.tsx`

12. **Update container styles**
    - Adjust `bottomToolbar` positioning for better bottom margin
    - Update `aiTestContainer` styles for new layout
    - Ensure proper spacing between header rows

13. **Add new style definitions**
    - `heroButtonContainer`: Center positioning, 2-row height
    - `headerTopRow`: Draw and Clear positioning
    - `headerBottomRow`: Undo/redo and zoom positioning
    - `headerButton`: Consistent styling for all header buttons

### Phase 6: Testing & Regression Prevention

14. **Functionality testing**
    - Verify existing color picker modal still works
    - Test all button press handlers (draw, clear, undo, redo, zoom, AI)
    - Ensure canvas interactions remain unchanged
    - Test modal dialogs (clear confirmation)

15. **Visual regression testing**
    - Compare with sketch layout
    - Check button alignments and spacing
    - Verify icon sizes and colors
    - Test on different screen sizes if applicable

16. **Code cleanup**
    - Remove unused style definitions
    - Clean up imports
    - Ensure TypeScript types are correct
    - Add comments for placeholder functionality

## Implementation Safeguards

### Incremental Implementation Strategy
- Implement each phase separately
- Test functionality after each major change
- Keep existing functionality intact during transitions
- Use feature flags if needed for gradual rollout

### Rollback Plan
- Commit after each successful phase
- Keep backup of current working state
- Document any breaking changes
- Ensure all existing functionality preserved

### Risk Mitigation
- Test color picker modal thoroughly (high user impact)
- Verify canvas drawing functionality unchanged
- Check button press handlers maintain existing behavior
- Ensure no layout breaking on edge cases

## Success Criteria
- [ ] Layout matches provided sketch exactly
- [ ] All existing functionality preserved
- [ ] New phosphor icons display correctly
- [ ] Consistent styling across all buttons
- [ ] No regressions in drawing, zooming, or AI functionality
- [ ] Clean, maintainable code structure 