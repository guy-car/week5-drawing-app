# Pencil Width Implementation Action Plan - March 26, 2024

## Overall Goal
Implement a pencil width adjustment feature that allows users to modify their stroke width through a modal interface with a live preview, while maintaining the existing eraser functionality.

## Implementation Actions

1. **Update BottomToolbar Component State** (`components/BottomToolbar.tsx`)
   - Add state for stroke width modal visibility
   - Add state for current stroke width
   - Add ref for persisting stroke width between renders

2. **Create Width Adjustment Modal** (`components/BottomToolbar.tsx`)
   - Add modal component similar to color picker
   - Implement horizontal slider with range 2-48
   - Add preview circle above slider that updates with width value
   - Style modal container and backdrop

3. **Update Pencil Button Handler** (`components/BottomToolbar.tsx`)
   - Modify pencil button click handler to toggle modal
   - Ensure pencil button maintains inactive (grey) style
   - Update width state management to persist selected width

4. **Enhance Tool State Management** (`components/BottomToolbar.tsx`)
   - Maintain separation between eraser width (fixed 48px) and pencil width
   - Update tool change handler to properly switch between eraser and current pencil width
   - Ensure width persistence when switching between tools

5. **Style Updates** (`components/BottomToolbar.tsx`)
   - Add styles for width adjustment modal
   - Add styles for preview circle
   - Add styles for horizontal slider
   - Ensure consistent styling with color picker modal

6. **Type Updates** (`components/BottomToolbar.tsx`)
   - Update BottomToolbarProps interface if needed
   - Add any new type definitions for width-related state

## Success Criteria
- Users can adjust stroke width through a modal interface
- Width preview updates in real-time while adjusting
- Selected width persists until next adjustment
- Eraser maintains fixed 48px width
- Smooth transitions between tools
- Consistent UI/UX with existing color picker functionality 